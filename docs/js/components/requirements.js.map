{"version":3,"file":"requirements.js","sourceRoot":"","sources":["../../ts/components/requirements.tsx"],"names":[],"mappings":"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","sourcesContent":["import { computed, ReadonlySignal, Signal, useComputed, useSignal } from '@preact/signals'\nimport { AccountAddress, CheckBoxes, EnsFuseName, FinalChildChecks, ParentChecks } from '../types/types.js'\nimport { callPetalLock, deployPetalLockAndRenewalManager, getOpenRenewalManagerAddress, getRequiredFusesWithoutApproval, renewDomainByYear, renewDomainToMax } from '../utils/ensUtils.js'\nimport { isSameAddress } from '../utils/utilities.js'\nimport { OptionalSignal } from '../utils/OptionalSignal.js'\nimport { isValidContentHashString } from '../utils/contenthash.js'\nimport { Spinner } from './Spinner.js'\nimport { isAddress } from 'viem'\nimport { YearPicker } from './YearPicker.js'\nimport { ENS_NAME_WRAPPER } from '../utils/constants.js'\n\ninterface SwitchAddressProps {\n\tmaybeAccountAddress: OptionalSignal<AccountAddress>\n\tmaybeSigningAddress: Signal<AccountAddress | undefined>\n\trequirementsMet: boolean\n}\n\nexport const SwitchAddress = ({ maybeSigningAddress, maybeAccountAddress, requirementsMet }: SwitchAddressProps) => {\n\tif (requirementsMet) return <></>\n\tif (maybeSigningAddress.value === undefined) return <></>\n\tif (BigInt(maybeSigningAddress.value) === 0n) return <></>\n\tif (isSameAddress(maybeAccountAddress.deepValue, maybeSigningAddress.value) ) return <></>\n\treturn <p class = 'paragraph' style = 'color: #b43c42'> { ` - Switch to ${ maybeSigningAddress } to sign` } </p>\n}\n\nconst arrayToString = (array: readonly string[]) => array.map((n) => `\"${ n }\"`).join(', ')\n\nconst getFuseString = (alreadyBurntBuses: readonly EnsFuseName[], requiredFuses: readonly EnsFuseName[]) => {\n\tconst fusesToBurnStill = requiredFuses.filter((fuse) => !alreadyBurntBuses.includes(fuse))\n\tif (alreadyBurntBuses.length === 0) return `The fuses ${ arrayToString(fusesToBurnStill) } need to be burnt`\n\tif (fusesToBurnStill.length === 0) return `Currently the fuses ${ arrayToString(alreadyBurntBuses) } are burnt`\n\treturn `Currently the fuses ${ arrayToString(alreadyBurntBuses) } are burnt. It it still needed to burn following fuses: ${ arrayToString(fusesToBurnStill) }`\n}\n\nexport const ChildRequirements = ( { checkBoxes, fuses } : { checkBoxes: FinalChildChecks, fuses: readonly EnsFuseName[] }) => {\n\tconst fuseError = getFuseString(checkBoxes.domainInfo.fuses, fuses)\n\treturn <>\n\t\t<p class = 'subdomain-header'>{ checkBoxes.domainInfo.subDomain } </p>\n\t\t<div class = 'grid-container'>\n\t\t\t<Requirement checked = { checkBoxes.exists } primarytext = { `${ checkBoxes.domainInfo.subDomain } exists` } />\n\t\t\t<Requirement checked = { checkBoxes.isWrapped } primarytext = { `${ checkBoxes.domainInfo.subDomain } is wrapped` } />\n\t\t\t<Requirement checked = { checkBoxes.fusesBurned } primarytext = { `${ checkBoxes.domainInfo.subDomain } fuses are burnt` } secondaryText = { fuseError } />\n\t\t\t<Requirement checked = { checkBoxes.childOwnershipIsGivenAway } primarytext = { 'The domain control is restricted' } secondaryText = 'The owner of the domain need to be burned or controlled by the Open Renewal Contract'/>\n\t\t\t<Requirement checked = { checkBoxes.ownershipOpenRenewalContract } primarytext = { `${ checkBoxes.domainInfo.subDomain } is owned by Open Renewal Contract (optional)` } secondaryText = 'The ownership of subdomain is moved to an Open Renewal Contract that allows anyone to renew the domain.'/>\n\t\t\t<Requirement checked = { checkBoxes.contentHashIsSet || checkBoxes.resolutionAddressIsSet } primarytext = { 'Content hash or address is set'} secondaryText = 'Content hash or address should be set for the domain to be useful'/>\n\t\t</div>\n\t</>\n}\n\nexport const ParentRequirements = ( { checkBoxes, fuses } : { checkBoxes: ParentChecks, fuses: readonly EnsFuseName[] }) => {\n\tconst fuseError = getFuseString(checkBoxes.domainInfo.fuses, fuses)\n\treturn <>\n\t\t<p class = 'subdomain-header'>{ checkBoxes.domainInfo.subDomain } </p>\n\t\t<div class = 'grid-container'>\n\t\t\t<Requirement checked = { checkBoxes.exists } primarytext = { `${ checkBoxes.domainInfo.subDomain } exists` } />\n\t\t\t<Requirement checked = { checkBoxes.isWrapped } primarytext = { `${ checkBoxes.domainInfo.subDomain } is wrapped` } />\n\t\t\t<Requirement checked = { checkBoxes.fusesBurned } primarytext = { `${ checkBoxes.domainInfo.subDomain } fuses are burnt` } secondaryText = { fuseError } />\n\t\t\t<Requirement checked = { checkBoxes.openRenewalContractIsApproved } primarytext = { `${ checkBoxes.domainInfo.subDomain } has approved Open Renewal Contract (optional)` } secondaryText = { `Contract ${ getOpenRenewalManagerAddress() } needs to be approved and fuses \"Cannot Approve\" needs to be burned in order for anyone to be able to renew the name.` } />\n\t\t</div>\n\t</>\n}\n\nexport const EnsRequirements = () => {\n\treturn <>\n\t\t<p class = 'subdomain-header'> Ethereum Name Service </p>\n\t\t<div class = 'grid-container'>\n\t\t\t<div class = 'grid-item' style = 'justify-self: start'>\n\t\t\t\t<div style = 'display: grid; grid-template-rows: auto auto;'>\n\t\t\t\t\t<label class = 'form-control'>\n\t\t\t\t\t\t<input type = 'checkbox' name = 'switch' class = 'check' checked = { false } disabled = { true }/>\n\t\t\t\t\t\t<p class = 'paragraph checkbox-text requirement'>\n\t\t\t\t\t\t\tConvince ENS DAO to fix the bug reported in <a href = 'https://discuss.ens.domains/t/temp-check-executable-revoke-the-daos-ability-to-upgrade-the-name-wrapper/19920/8'>the-daos-ability-to-upgrade-the-name-wrapper</a> so they cannot rug you.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</>\n}\n\n\nexport const Requirements = ({ checkBoxesArray } : { checkBoxesArray: OptionalSignal<CheckBoxes> }) => {\n\tconst allCheckBoxes = checkBoxesArray.deepValue\n\tif (allCheckBoxes === undefined) return <></>\n\treturn <div class = 'grid-container-bordered'>\n\t\t{ [...allCheckBoxes].reverse().map((check, index) => {\n\t\t\tconst fuses = getRequiredFusesWithoutApproval(allCheckBoxes.length - index - 1, allCheckBoxes.map((c) => c.domainInfo))\n\t\t\tif (check.type === 'parent') return <ParentRequirements checkBoxes = { check } fuses = { fuses }/>\n\t\t\treturn <ChildRequirements checkBoxes = { check } fuses = { fuses }/>\n\t\t}) }\n\t\t<EnsRequirements/>\n\t</div>\n}\n\ninterface RequirementProps {\n\tprimarytext: string,\n\tsecondaryText?: string,\n\tchecked: boolean,\n}\n\nexport const Requirement = ({ checked, primarytext, secondaryText }: RequirementProps) => {\n\treturn <>\n\t\t<div class = 'grid-item' style = 'justify-self: start'>\n\t\t\t<div style = 'display: grid; grid-template-rows: auto auto;'>\n\t\t\t\t<label class = 'form-control'>\n\t\t\t\t\t<input type = 'checkbox' name = 'switch' class = 'check' checked = { checked } disabled = { true }/>\n\t\t\t\t\t<p class = 'paragraph checkbox-text requirement'> { primarytext } </p>\n\t\t\t\t</label>\n\t\t\t\t{ secondaryText === undefined ? <></> : <p class = 'paragraph dim' style = 'padding-left: 10px;'> { secondaryText } </p> }\n\t\t\t</div>\n\t\t</div>\n\t</>\n}\n\nexport const Immutable = ( { checkBoxesArray } : { checkBoxesArray: OptionalSignal<CheckBoxes> }) => {\n\tif (checkBoxesArray.deepValue === undefined) return <></>\n\tconst checkBoxes = checkBoxesArray.deepValue[checkBoxesArray.deepValue.length - 1]\n\tif (checkBoxes === undefined || checkBoxes.type !== 'finalChild') return <></>\n\n\tfunction humanReadableDateDelta(secondsDiff: number) {\n\t\tconst secondsInHour = 3600\n\t\tconst secondsInDay = secondsInHour * 24\n\t\tconst secondsInMonth = secondsInDay * 30\n\t\tconst secondsInYear = secondsInDay * 365\n\n\t\tconst years = Math.floor(secondsDiff / secondsInYear)\n\t\tsecondsDiff %= secondsInYear\n\n\t\tconst months = Math.floor(secondsDiff / secondsInMonth)\n\t\tsecondsDiff %= secondsInMonth\n\n\t\tconst days = Math.floor(secondsDiff / secondsInDay)\n\n\t\tconst parts: string[] = []\n\t\tif (years > 0) parts.push(`${ years } year${ years > 1 ? 's' : '' }`)\n\t\tif (months > 0 && years <= 5) parts.push(`${ months } month${ months > 1 ? 's' : '' }`)\n\t\tif (days > 0 && years <= 2) parts.push(`${ days } day${ days > 1 ? 's' : '' }`)\n\n\t\treturn parts.length > 0 ? parts.join(' ') : 'less than a day'\n\t}\n\tconst dateDiff = computed(() => humanReadableDateDelta((checkBoxes.domainInfo.expiry.getTime() - new Date().getTime()) / 1000))\n\tconst dateString = computed(() => checkBoxes.domainInfo.expiry.toISOString().substring(0, 10))\n\n\treturn <div>\n\t\t<div style = 'padding-top: 30px; padding-bottom: 30px; align-items: center; display: grid; width: 100%'>\n\t\t\t{ checkBoxes.immutable ? <>\n\t\t\t\t<p class = 'status-green'>\n\t\t\t\t\t{`Almost* IMMUTABLE for about ${ dateDiff } (until ${ dateString })` }\n\t\t\t\t</p>\n\t\t\t</>: <p class = 'status-red'> NOT IMMUTABLE </p> }\n\t\t</div>\n\t\t{ checkBoxes.immutable ? <></> : <p style = 'margin: 0px; margin-bottom: 10px; padding-left: 10px;' class = 'requirement'> { checkBoxes.domainInfo.subDomain } should satisfy the following conditions to be immutable: </p> }\n\t</div>\n}\n\ninterface DeployProps {\n\tareContractsDeployed: Signal<boolean | undefined>\n\tdeploy: () => void\n}\n\nexport const DeployContract = ({ areContractsDeployed, deploy }: DeployProps) => {\n\tif (areContractsDeployed.value === false) return <>\n\t\t<p class = 'error-component' style = 'width: 100%; margin-left: 10px; text-align: center;'> PetalLock contract is not deployed. </p>\n\t\t<button class = 'button is-primary' onClick = { deploy }> Deploy PetalLock contract</button>\n\t</>\n\treturn <></>\n}\n\ntype DisplayErrorProps  = { displayError: boolean, message: string } | { message: OptionalSignal<string> | ReadonlySignal<string | undefined> }\nconst DisplayError = (props: DisplayErrorProps) => {\n\tif (!('displayError' in props)) {\n\t\tif (props.message.value === undefined) return <></>\n\t\treturn <p class = 'paragraph' style = 'color: #b43c42'> { props.message.value } </p>\n\t}\n\tif (props.displayError === false) return <></>\n\treturn <p class = 'paragraph' style = 'color: #b43c42'> { props.message } </p>\n}\n\ninterface ContentHashErrorProps {\n\tcontentHashInput: Signal<string>\n\tvalidContenthash: ReadonlySignal<boolean>\n}\nconst ContentHashError = ({ contentHashInput, validContenthash }: ContentHashErrorProps) => {\n\tif (validContenthash.value === true) return <></>\n\tif (contentHashInput.value.length === 0) return <></>\n\tconst separator = contentHashInput.value.includes('://')\n\tif (separator === false) return <DisplayError displayError = { true } message = ' - Content hash needs to include protocol and hash, eg (\"ipfs://bafy...\")'/>\n\treturn <DisplayError displayError = { true } message = ' - Content hash is not valid'/>\n}\n\ninterface ImmutableDomainProps {\n\tcheckBoxes: OptionalSignal<CheckBoxes>\n\textendYear: Signal<number>\n\textending: Signal<boolean>\n\tmaybeAccountAddress: OptionalSignal<AccountAddress>\n\tupdateInfos: (showLoading: boolean) => Promise<void>\n}\n\nconst ImmutableDomain = ({ checkBoxes, extendYear, extending, maybeAccountAddress, updateInfos }: ImmutableDomainProps) => {\n\tconst isYearValid = useSignal<boolean>(true)\n\tif (checkBoxes.deepValue === undefined) return <></>\n\tconst level2DomainExpiryBiggerThanLowestLevelExpiry = computed(() => {\n\t\tif (checkBoxes.deepValue === undefined) return false\n\t\tconst first = checkBoxes.deepValue[0]\n\t\tconst last = checkBoxes.deepValue[checkBoxes.deepValue.length - 1]\n\t\tif (first === undefined || last == undefined) return false\n\t\treturn first.domainInfo.expiry.toISOString() !== last.domainInfo.expiry.toISOString()\n\t})\n\n\tconst renewByYear = async () => {\n\t\tconst account = maybeAccountAddress.peek()\n\t\tif (account === undefined) throw new Error('missing maybeAccountAddress')\n\t\tif (checkBoxes.deepValue === undefined) return\n\t\ttry {\n\t\t\textending.value = true\n\t\t\tawait renewDomainByYear(account.value, extendYear.value, checkBoxes.deepValue.map((value) => value.domainInfo))\n\t\t\tawait updateInfos(false)\n\t\t} finally {\n\t\t\textending.value = false\n\t\t}\n\t}\n\n\tconst renewToMax = async () => {\n\t\tconst account = maybeAccountAddress.peek()\n\t\tif (account === undefined) throw new Error('missing maybeAccountAddress')\n\t\tif (checkBoxes.deepValue === undefined) return\n\t\ttry {\n\t\t\textending.value = true\n\t\t\tawait renewDomainToMax(account.value, checkBoxes.deepValue.map((value) => value.domainInfo))\n\t\t\tawait updateInfos(false)\n\t\t} finally {\n\t\t\textending.value = false\n\t\t}\n\t}\n\n\tconst finalChild = checkBoxes.deepValue[checkBoxes.deepValue.length - 1]\n\tconst subDomain = finalChild?.domainInfo.subDomain\n\tif (subDomain === undefined) throw new Error('missing subdomain')\n\treturn <div key = 'dialog' class = 'extend-dialog'>\n\t\t{ !(finalChild?.type === 'finalChild' && finalChild.ownershipOpenRenewalContract) ? <div style = 'justify-content: center;'> <p class = 'paragraph' style = 'color: #b43c42'> { `Warning: ${ subDomain } cannot be renewed. It will become mutable when expired.` } </p> </div>: <>\n\t\t\t<p style = 'white-space: nowrap; margin: 0; font-size: 24px; padding-bottom: 10px; justify-self: center;'>{ `Renew ${ subDomain }` }</p>\n\t\t\t<div style = 'justify-content: center;'>\n\t\t\t\t<p style = 'font-size: 24px;'> Renew by&nbsp;</p> <YearPicker validYear = { isYearValid } year = { extendYear }/> <p style = 'font-size: 24px;'>&nbsp;years </p>\n\t\t\t\t<button style = 'font-size: 3em;' class = 'button is-primary' disabled = { extending.value || !isYearValid.value } onClick = { renewByYear }> Renew { extending.value ? <Spinner/> : <></> }</button>\n\t\t\t</div>\n\t\t\t{ !level2DomainExpiryBiggerThanLowestLevelExpiry.value || checkBoxes.deepValue[0] === undefined ? <></> : <>\n\t\t\t\t<div style = 'justify-content: center; font-size: 24px;'>\n\t\t\t\t\t<p> OR </p>\n\t\t\t\t</div>\n\t\t\t\t<div style = 'justify-content: center;'>\n\t\t\t\t\t<p style = 'font-size: 24px;' >{ `Renew without renewing ${ checkBoxes.deepValue[0].domainInfo.subDomain }` }</p>\n\t\t\t\t\t<button style = 'font-size: 3em;' class = 'button is-primary' disabled = { extending.value } onClick = { renewToMax }> { `Renew to ${ checkBoxes.deepValue[0].domainInfo.expiry.toISOString().substring(0, 10) }` } { extending.value ? <Spinner/> : <></> }</button>\n\t\t\t\t</div>\n\t\t\t</> }\n\t\t</> }\n\t</div>\n}\n\ninterface NonImmutableDomainProps {\n\tmaybeAccountAddress: OptionalSignal<AccountAddress>\n\tresolutionAddressInput: Signal<string>\n\tcheckBoxes: OptionalSignal<CheckBoxes>\n\tupdateInfos: (showLoading: boolean) => Promise<void>\n\tcreating: Signal<boolean>\n\tcontentHashInput: Signal<string>\n\thandleContentHashInput: (input: string) => void\n\thandleResolutionAddressInput: (input: string) => void\n\tloadingInfos: Signal<boolean>\n\tareContractsDeployed: Signal<boolean | undefined>\n}\n\nconst NonImmutableDomain = ({ checkBoxes, maybeAccountAddress, updateInfos, creating, contentHashInput, resolutionAddressInput, handleContentHashInput, handleResolutionAddressInput, loadingInfos, areContractsDeployed }: NonImmutableDomainProps) => {\n\tconst makeImmutable = async () => {\n\t\tconst account = maybeAccountAddress.peek()\n\t\tif (account === undefined) throw new Error('missing maybeAccountAddress')\n\t\tif (checkBoxes.deepValue === undefined) return\n\t\ttry {\n\t\t\tcreating.value = true\n\t\t\tawait callPetalLock(account.value, checkBoxes.deepValue.map((value) => value.domainInfo), contentHashInput.value.trim(), resolutionAddressInput.value.trim())\n\t\t\tawait updateInfos(false)\n\t\t} catch(e) {\n\t\t\tthrow e\n\t\t} finally {\n\t\t\tcreating.value = false\n\t\t}\n\t}\n\n\tconst maybeSigningAddress = useComputed(() => {\n\t\tif (checkBoxes.deepValue === undefined) return undefined\n\t\treturn checkBoxes.deepValue[0]?.domainInfo.owner\n\t})\n\n\tconst rightAddress = useComputed(() => isSameAddress(maybeSigningAddress.value, maybeAccountAddress.deepValue))\n\tconst validContenthash = useComputed(() => isValidContentHashString(contentHashInput.value.trim()))\n\tconst validResolutionAddress = useComputed(() => isAddress(resolutionAddressInput.value.trim()))\n\n\tconst wrappedIssues = useComputed(() => {\n\t\tconst nonWrappedTokens = checkBoxes.deepValue?.filter((x) => x.exists && !x.isWrapped)\n\t\tif (nonWrappedTokens === undefined || nonWrappedTokens.length === 0) return undefined\n\t\treturn ` - The domain${ nonWrappedTokens.length > 1 ? 's' : '' }: ${ nonWrappedTokens.map((token) => `\"${ token.domainInfo.subDomain }\"`).join(', ')} need to be wrapped for PetalLock to function`\n\t})\n\tconst ownershipIssues = useComputed(() => {\n\t\tconst managerAndOwners = checkBoxes.deepValue?.filter((x) => x.exists && x.isWrapped).map((x) => [x.domainInfo.owner, x.domainInfo.manager])\n\t\tif (managerAndOwners === undefined || managerAndOwners.length === 0) return undefined\n\t\tconst unique = Array.from(new Set(managerAndOwners.flat().flat().filter((address) => address !== ENS_NAME_WRAPPER)))\n\t\tif (unique.length <= 1) return undefined\n\t\treturn ` - The domain${ unique.length > 1 ? 's' : '' } need to be owned and managed by the same address. Currently they are managed by addresses: ${ unique.join(', ') }`\n\t})\n\tconst domainExistIssue = useComputed(() => {\n\t\tconst first = checkBoxes.deepValue?.at(0)\n\t\tif (first === undefined || first.exists) return undefined\n\t\treturn ` - The domain ${ first.domainInfo.subDomain } need to be created before you can use PetalLock to create almost* immutable subdomains under it`\n\t})\n\tconst contentSetProperly = useComputed(() => {\n\t\tif (resolutionAddressInput.value.length === 0 && validContenthash.value) return true\n\t\tif (contentHashInput.value.length === 0 && validResolutionAddress.value) return true\n\t\tif (validContenthash.value && validResolutionAddress.value) return true\n\t\treturn false\n\t})\n\n\treturn <div key = 'dialog' style = 'width: 100%'>\n\t\t<div style = 'padding: 10px; width: 100%'>\n\t\t\t<p style = 'margin: 0; font-size: 24px; padding-bottom: 10px'> Make the domain almost* immutable! </p>\n\t\t\t<div style = 'display: grid; width: 100%; gap: 10px; padding-bottom: 10px;'>\n\t\t\t\t<p style = 'margin: 0;'>{ `Content hash:` }</p>\n\t\t\t\t<input\n\t\t\t\t\tstyle = 'height: fit-content;'\n\t\t\t\t\tclass = 'input'\n\t\t\t\t\ttype = 'text'\n\t\t\t\t\twidth = '100%'\n\t\t\t\t\tplaceholder = 'ipfs://bafy...'\n\t\t\t\t\tvalue = { contentHashInput.value }\n\t\t\t\t\tonInput = { e => handleContentHashInput(e.currentTarget.value) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div style = 'display: grid; width: 100%; gap: 10px;'>\n\t\t\t\t<p style = 'margin: 0;'> Resolution address: </p>\n\t\t\t\t<input\n\t\t\t\t\tstyle = 'height: fit-content;'\n\t\t\t\t\tclass = 'input'\n\t\t\t\t\ttype = 'text'\n\t\t\t\t\twidth = '100%'\n\t\t\t\t\tplaceholder = '0x...'\n\t\t\t\t\tvalue = { resolutionAddressInput.value }\n\t\t\t\t\tonInput = { e => handleResolutionAddressInput(e.currentTarget.value) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t\t<div style = 'padding: 10px; width: 100%;' key = 'issues'>\n\t\t\t<DisplayError message = { domainExistIssue } />\n\t\t\t<ContentHashError validContenthash = { validContenthash } contentHashInput = { contentHashInput }/>\n\t\t\t<DisplayError displayError = { !(validResolutionAddress.value || resolutionAddressInput.value.length === 0) } message = ' - Resolution address is not a valid address'/>\n\t\t\t<DisplayError displayError = { !(validContenthash.value || validResolutionAddress.value) } message = ' - Set content hash or resolution address or both'/>\n\t\t\t<DisplayError message = { wrappedIssues } />\n\t\t\t<DisplayError message = { ownershipIssues } />\n\t\t\t<SwitchAddress requirementsMet = { loadingInfos.value } maybeAccountAddress = { maybeAccountAddress } maybeSigningAddress = { maybeSigningAddress }/>\n\t\t</div>\n\t\t<button style = 'font-size: 3em;' class = 'button is-primary' disabled = { ownershipIssues.value !== undefined || wrappedIssues.value !== undefined || areContractsDeployed.value !== true || !contentSetProperly.value || !rightAddress.value || checkBoxes.deepValue === undefined || loadingInfos.value || creating.value } onClick = { makeImmutable }> Make almost* immutable { creating.value ? <Spinner/> : <></> }</button>\n\t</div>\n}\n\ninterface CreateProps {\n\tcontentHashInput: Signal<string>\n\thandleContentHashInput: (input: string) => void\n\tresolutionAddressInput: Signal<string>\n\thandleResolutionAddressInput: (input: string) => void\n\tloadingInfos: Signal<boolean>\n\timmutable: Signal<boolean>\n\tmaybeAccountAddress: OptionalSignal<AccountAddress>\n\tcheckBoxes: OptionalSignal<CheckBoxes>\n\tupdateInfos: (showLoading: boolean) => Promise<void>\n\tcreating: Signal<boolean>\n\tareContractsDeployed: Signal<boolean | undefined>\n\textendYear: Signal<number>\n\textending: Signal<boolean>\n}\n\nexport const Create = ( { contentHashInput, resolutionAddressInput, loadingInfos, immutable, handleContentHashInput, handleResolutionAddressInput, maybeAccountAddress, checkBoxes, updateInfos, creating, areContractsDeployed, extendYear, extending }: CreateProps) => {\n\tconst deploy = async () => {\n\t\tconst account = maybeAccountAddress.peek()\n\t\tif (account === undefined) throw new Error('missing maybeAccountAddress')\n\t\tawait deployPetalLockAndRenewalManager(account.value)\n\t\tawait updateInfos(false)\n\t\tareContractsDeployed.value = true\n\t}\n\n\tif (checkBoxes.deepValue === undefined) return <></>\n\tconst finalChild = checkBoxes.deepValue[checkBoxes.deepValue.length - 1]\n\tconst subDomain = finalChild?.domainInfo.subDomain\n\tif (subDomain === undefined) throw new Error('missing subdomain')\n\treturn <div style = 'padding-top: 10px; width: 100%'>\n\t\t{ immutable.value ? <ImmutableDomain\n\t\t\tcheckBoxes = { checkBoxes }\n\t\t\textendYear = { extendYear }\n\t\t\textending = { extending }\n\t\t\tmaybeAccountAddress = { maybeAccountAddress }\n\t\t\tupdateInfos = { updateInfos }\n\t\t/> : <NonImmutableDomain\n\t\t\tmaybeAccountAddress = { maybeAccountAddress }\n\t\t\tresolutionAddressInput = { resolutionAddressInput }\n\t\t\tcheckBoxes = { checkBoxes }\n\t\t\tupdateInfos = { updateInfos }\n\t\t\tcreating = { creating }\n\t\t\tcontentHashInput = { contentHashInput }\n\t\t\thandleContentHashInput = { handleContentHashInput }\n\t\t\thandleResolutionAddressInput = { handleResolutionAddressInput }\n\t\t\tloadingInfos = { loadingInfos }\n\t\t\tareContractsDeployed = { areContractsDeployed }\n\t\t/> }\n\t\t<DeployContract areContractsDeployed = { areContractsDeployed } deploy = { deploy }/>\n\t</div>\n}\n"]}